import { Steps, Step } from 'fumadocs-ui/components/steps';
import { GenerateKeysButton, SignMessageButton, VerifySignatureButton, AggregateSignaturesButton, AggregatePublicKeysButton, VerifyAggregateSignatureButton } from '@/components/signatureSchemes'

マルチシグネチャスキームを使って、以下の手順を試してみましょう。  

- **2 つの鍵ペアを生成**: 2 つの公開鍵と秘密鍵のペアを作成  
- **メッセージに署名**: それぞれの秘密鍵で同じメッセージに対して署名を作成  
- **署名を集約**: 2 つの署名を 1 つの署名に集約  
- **公開鍵を集約**: 2 つの公開鍵を 1 つの公開鍵に集約  
- **集約された署名を検証**: 集約された公開鍵を使って署名を検証  

<Steps>  
<Step>  

### 1 つ目の鍵を生成  
まず、公開鍵と秘密鍵のペアを作成します。  

<GenerateKeysButton />  

</Step>  

<Step>  

### メッセージに署名  
生成した秘密鍵を使って、メッセージに署名します。  

<SignMessageButton />  

</Step>  

<Step>  

### 2 つ目の鍵を生成  
実際の環境では、鍵ペアは異なる人や組織によって作成されますが、今回は 2 つの役割を自分で担当します。  

<GenerateKeysButton />  

</Step>  

<Step>  

### 2 つ目の鍵でメッセージに署名  
必ず **同じメッセージ** に対して署名を行ってください。例えば、「Per consensum ad astra」など。  

<SignMessageButton />  

</Step>  

<Step>  

### 署名を集約  
2 つの署名を 1 つにまとめます。この手順は何百、何千もの署名に対しても適用できます。  
**順番は関係ありません。**  

<AggregateSignaturesButton />  

</Step>  

<Step>  

### 公開鍵を集約  
署名を検証するために、対応する公開鍵も集約します。これも、順番は関係なく、何百、何千もの公開鍵をまとめることができます。  

<AggregatePublicKeysButton />  

</Step>  

<Step>  

### 集約された署名を検証  
誰でも集約された公開鍵を使って署名を検証できます。  
これにより、大規模なグループの署名に対しても **効率的かつ安全に** 署名の真正性を確認できます。  

<VerifySignatureButton aggregated={true} />  

</Step>  
</Steps>  

お疲れさまでした！ 🎉  
この演習を通じて、署名の集約がどのように機能するのかを体験できました。  
次の章では、**Avalanche Warp Messaging** において、マルチシグネチャスキームがどのように **安全で効率的なクロスチェーン L1 通信** を実現するのかを学びます。  