---
title: 送信コントラクトの作成
description: ラウンドトリップ用の送信コントラクトをデプロイする
updated: 2024-05-31  
authors: [martineckardt]  
icon: Terminal  
---

import { Step, Steps } from 'fumadocs-ui/components/steps';

C-Chain 上に **ラウンドトリップ通信（往復メッセージ）対応の送信コントラクト** をデプロイします。  

<Steps>  

<Step>  

### **送信コントラクトを修正する**  

[前のセクション](/course/interchain-messaging/04-icm-basics/04-create-sender-contract) で説明した通り、  
**`senderOnCChain.sol` に変更を加えて、メッセージの受信機能を追加** します。  

<Callout type="warn" title="送信先の `destinationBlockchainID` を必ず Avalanche L1 の Blockchain ID（HEX）に置き換えてください！" />  

</Step>  

<Step>  

### **送信コントラクトをデプロイする**  

以下のコマンドを実行して、修正した送信コントラクトを C-Chain にデプロイします。  

```bash
forge create --rpc-url local-c --private-key $PK contracts/interchain-messaging/send-roundtrip/senderOnCChain.sol:SenderOnCChain
```

実行すると、以下のような出力が得られます。  

```
[⠊] Compiling...
[⠢] Compiling 1 files with Solc 0.8.18
[⠆] Solc 0.8.18 finished in 165.79ms
Compiler run successful!
Deployer: 0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC
Deployed to: 0xA4cD3b0Eb6E5Ab5d8CE4065BcCD70040ADAB1F00 // [!code highlight]
Transaction hash: 0x4f41cf829fbc525b64d9773c41dc9fabb3b93dfd03bf6c1568dcc4a4c6bdeb1a
```

</Step>  

<Step>  

### **送信コントラクトのアドレスを更新する**  

デプロイ後、新しい送信コントラクトのアドレスを環境変数に保存します。  

```bash
export SENDER_ADDRESS=0xA4cD3b0Eb6E5Ab5d8CE4065BcCD70040ADAB1F00
```

</Step>  

</Steps>