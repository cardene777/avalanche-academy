---
title: ã‚·ãƒ³ãƒ—ãƒ«ãªè¨ˆç®—ã‚’è¡Œã†å—ä¿¡ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ä½œæˆ
description: è¤‡æ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å—ä¿¡ã—ã€è¨ˆç®—ã‚’å®Ÿè¡Œã™ã‚‹ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹  
updated: 2024-05-31  
authors: [martineckardt]  
icon: Terminal  
---

import { Step, Steps } from 'fumadocs-ui/components/steps';

**Avalanche L1 ä¸Šã«ã€å—ä¿¡ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆï¼ˆReceiver Contractï¼‰ã‚’ä½œæˆ** ã—ã¾ã™ã€‚  
ã“ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã¯ **é€ä¿¡ã•ã‚ŒãŸ 2 ã¤ã®æ•°å€¤ã‚’å—ä¿¡ã—ã€ãã‚Œã‚‰ã‚’åŠ ç®—ï¼ˆSumï¼‰ã—ã¦çµæœã‚’ä¿å­˜** ã—ã¾ã™ã€‚  

<Steps>  

<Step>  

### **å—ä¿¡ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ä½œæˆ**  

```solidity title="src/02a-encoding-multiple-paramters/SimpleCalculatorReceiverOnSubnet.sol"
pragma solidity ^0.8.18;

import "@teleporter/ITeleporterMessenger.sol";
import "@teleporter/ITeleporterReceiver.sol";

contract SimpleCalculatorReceiverOnSubnet is ITeleporterReceiver {
    ITeleporterMessenger public immutable teleporterMessenger =
        ITeleporterMessenger(0x253b2784c75e510dD0fF1da844684a1aC0aa5fcf);

    uint256 public result_num;

    function receiveTeleporterMessage(bytes32, address, bytes calldata message) external {
        // Only the Interchain Messaging receiver can deliver a message.
        require(
            msg.sender == address(teleporterMessenger), "CalculatorReceiverOnSubnet: unauthorized TeleporterMessenger"
        );

        (uint256 a, uint256 b) = abi.decode(message, (uint256, uint256)); // [!code highlight:2]
        _calculatorAdd(a, b);
    }

    function _calculatorAdd(uint256 _num1, uint256 _num2) internal {
        result_num = _num1 + _num2;
    }
}
```

**ğŸ“Œ ãƒã‚¤ãƒ³ãƒˆ**  
- **`receiveTeleporterMessage()` ã‚’å®Ÿè£…**ï¼ˆ`ITeleporterReceiver` ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å¿…é ˆãƒ¡ã‚½ãƒƒãƒ‰ï¼‰  
- **ãƒ‡ã‚³ãƒ¼ãƒ‰å‡¦ç† (`abi.decode()`) ã‚’è¿½åŠ ã—ã€é€ä¿¡ã•ã‚ŒãŸ 2 ã¤ã® `uint256` ã‚’å¾©å…ƒ**  
- **å†…éƒ¨é–¢æ•° `_calculatorAdd()` ã§ 2 ã¤ã®æ•°å€¤ã‚’åŠ ç®—ã—ã€çµæœã‚’ `result_num` ã«ä¿å­˜**  

</Step>  

<Step>  

### **å—ä¿¡ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹**  

Avalanche L1 ä¸Šã«ã€å—ä¿¡ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚  

```bash
forge create --rpc-url myblockchain --private-key $PK contracts/interchain-messaging/invoking-functions/SimpleCalculatorReceiverOnSubnet.sol:SimpleCalculatorReceiverOnSubnet
```

å®Ÿè¡Œã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ãªå‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚  

```
[â Š] Compiling...
[â ’] Compiling 1 files with Solc 0.8.18
[â ¢] Solc 0.8.18 finished in 44.12ms
Compiler run successful!
Deployer: 0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC
Deployed to: 0x5aa01B3b5877255cE50cc55e8986a7a5fe29C70e // [!code highlight]
Transaction hash: 0x2d40c53b493556463a28c458e40bc455a248df69a10679bef84145974b7424f3
```

</Step>  

<Step>  

### **å—ä¿¡ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ä¿å­˜ã™ã‚‹**  

ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã€æ–°ã—ã„å—ä¿¡ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç’°å¢ƒå¤‰æ•°ã«ä¿å­˜ã—ã¾ã™ã€‚  

```bash
export RECEIVER_ADDRESS=0x5aa01B3b5877255cE50cc55e8986a7a5fe29C70e
```

</Step>  

</Steps>