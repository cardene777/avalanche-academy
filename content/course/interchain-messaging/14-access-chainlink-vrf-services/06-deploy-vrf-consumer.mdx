---
title: Consumer のデプロイ  
description: Chainlink VRF をサポートしていない L1 に `CrossChainVRFConsumer` コントラクトをデプロイする方法を学ぶ。  
updated: 2024-10-21  
authors: [0xstt]  
icon: Terminal  
---

import { Step, Steps } from 'fumadocs-ui/components/steps';  

`CrossChainVRFWrapper` が Chainlink をサポートする L1 にデプロイされたので、次は **Chainlink VRF をサポートしていない L1** に `CrossChainVRFConsumer` コントラクトをデプロイします。  
このコントラクトは、ランダムな数値をリクエストし、**TeleporterMessenger** を通じてサポートされている L1 と通信を行います。  

<Steps>  
<Step>  

## 前提条件  
デプロイ前に、以下の準備が整っていることを確認してください。  

- **サポートされていない L1 にデプロイされた `TeleporterMessenger` コントラクトのアドレス**  
- **サポートされている L1 にデプロイされた `CrossChainVRFWrapper` のアドレス `($VRF_WRAPPER)`**  

</Step>  
<Step>  

## コントラクトのデプロイ  
以下のコマンドを使用して、**Chainlink VRF をサポートしていない L1** に `CrossChainVRFConsumer` コントラクトをデプロイします。  

```bash  
forge create --rpc-url <RPC_URL> --private-key <PRIVATE_KEY> src/CrossChainVRFConsumer.sol:CrossChainVRFConsumer --constructor-args <TELEPORTER_MESSENGER_ADDRESS> $VRF_WRAPPER
```  

値を以下のように置き換えてください。  

- `<RPC_URL>`: L1 の RPC URL  
- `<PRIVATE_KEY>`: デプロイに使用するアカウントのプライベートキー  
- `<TELEPORTER_MESSENGER_ADDRESS>`: サポートされていない L1 にある `TeleporterMessenger` コントラクトのアドレス  

デプロイ後、出力される `Deployed to` のアドレスを保存しておきます。  
環境変数に保存すると後で便利です。  

```bash  
export VRF_CONSUMER=<address>
```  

</Step>  
<Step>  

## デプロイの確認  
`CrossChainVRFConsumer` コントラクトがデプロイされたら、そのアドレスをブロックエクスプローラーで確認し、L1 上で正常にデプロイされていることを検証します。  

</Step>  
</Steps>  