---
title: Chainlink VRF サブスクリプションの作成  
description: クロスチェーンでのランダムネスリクエストを有効にするために、Chainlink VRF のサブスクリプションを作成する方法を学ぶ。  
updated: 2024-10-21  
authors: [0xstt]  
icon: BookOpen  
---

import { Step, Steps } from 'fumadocs-ui/components/steps';  

Chainlink VRF を使用してランダムな数値をリクエストする前に、**Chainlink VRF サブスクリプション**をセットアップする必要があります。  
このサブスクリプションは、ランダムネスリクエストの資金を管理し、VRF サービスを利用するための許可されたコントラクト（コンシューマー）のリストを管理するものです。  

<Steps>  
<Step>  

## Chainlink VRF サブスクリプションマネージャーにアクセスする  

サブスクリプションを作成するには、Chainlink VRF サブスクリプションマネージャー（リクエストを行うネットワーク上）にアクセスします。  
たとえば、Avalanche Fuji で VRF を使用する場合は、以下のリンクからアクセスできます。  

[VRF | Fuji 用サブスクリプション管理](https://vrf.chain.link/fuji)  
![](/common-images/chainlink-vrf/visit-subscription-management.png)  

</Step>  
<Step>  

## 新しいサブスクリプションを作成する  

サブスクリプションマネージャーにアクセスしたら、新しいサブスクリプションを作成します。  
作成後、このサブスクリプションには **ユニークな ID** が付与されます。  
この ID は、`CrossChainVRFWrapper` コントラクトでリクエストを行う際に必要になります。  

![](/common-images/chainlink-vrf/create-subscription.png)  

</Step>  
<Step>  

## サブスクリプションに資金を追加する  

サブスクリプションを作成したら、**LINK トークン** で資金を補充します。  
Chainlink VRF を通じてランダムネスリクエストを行う際に、このトークンが支払いとして使用されます。  

テスト用の LINK トークンは、以下の **Fuji Faucet** から取得できます。  
[Chainlink Faucet for Fuji](https://faucets.chain.link/fuji)  

![](/common-images/chainlink-vrf/faucet.png)  
![](/common-images/chainlink-vrf/add-funds.png)  

</Step>  
<Step>  

## コンシューマーを追加する  

サブスクリプションに資金を追加したら、**`CrossChainVRFWrapper` コントラクト `($VRF_WRAPPER)` をコンシューマーとして追加** します。  
これにより、`CrossChainVRFWrapper` が VRF サービスをリクエストできるようになります。  
必要に応じて、他のスマートコントラクトやアドレスをコンシューマーとして追加することも可能です。  

![](/common-images/chainlink-vrf/add-consumer.png)  

</Step>  
<Step>  

## サブスクリプション ID を保存する  

すべての設定が完了したら、**サブスクリプション ID** を保存します。  
この ID は、`CrossChainVRFWrapper` コントラクトでランダムネスをリクエストする際に使用します。  

```bash  
export VRF_SUBSCRIPTION_ID=<subscription_id>  
```  

</Step>  
</Steps>  